{"version":3,"sources":["script.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","canvas","document","querySelector","c","getContext","width","window","innerWidth","height","innerHeight","Player","_this","this","velocity","x","y","rotation","image","Image","src","onload","position","value","save","translate","player","rotate","drawImage","restore","draw","Projectile","_ref","keys","a","pressed","d","w","s","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","space","animate","requestAnimationFrame","fillStyle","fillRect","update","addEventListener","_ref2","console","log","_ref3"],"mappings":"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","file":"script.js","sourcesContent":["const canvas = document.querySelector(\"canvas\");\r\n\r\nconst c = canvas.getContext(\"2d\");\r\n\r\ncanvas.width = window.innerWidth;\r\ncanvas.height = window.innerHeight;\r\n\r\nclass Player {\r\n  constructor() {\r\n    this.velocity = {\r\n      x: 0,\r\n      y: 0,\r\n    };\r\n    this.rotation = 0;\r\n\r\n    //js api to create image\r\n    const image = new Image();\r\n    image.src = \"./dist/assets/img/hero.png\";\r\n\r\n    //Only after loads its declared\r\n    image.onload = () => {\r\n      const scale = 0.15;\r\n      this.image = image;\r\n      this.width = image.width * scale; // make the width of the image the same as the canvas\r\n      this.height = image.height * scale;\r\n\r\n      this.position = {\r\n        x: canvas.width / 2 - this.width / 2,\r\n        y: canvas.height - this.height - 20,\r\n      };\r\n    };\r\n  }\r\n\r\n  draw() {\r\n    // c.fillRect(0, 0, canvas.width, canvas.height); //\r\n    c.save();\r\n    c.translate(\r\n      player.position.x + player.width / 2,\r\n      player.position.y + player.height / 2\r\n    );\r\n\r\n    c.rotate(this.rotation);\r\n\r\n    c.translate(\r\n      -player.position.x - player.width / 2,\r\n      -player.position.y - player.height / 2\r\n    );\r\n\r\n    c.drawImage(\r\n      this.image,\r\n      this.position.x,\r\n      this.position.y,\r\n      this.width,\r\n      this.height\r\n    );\r\n    c.restore();\r\n  }\r\n  update() {\r\n    // add only if image is loaded\r\n    if (this.image) {\r\n      this.position.x += this.velocity.x;\r\n\r\n      this.draw();\r\n    }\r\n  }\r\n}\r\n\r\nclass Projectile {\r\n  constructor({ position, velocity }) {\r\n    this.position = position;\r\n    this.velocity = this.velocity;\r\n  }\r\n}\r\n\r\nconst player = new Player();\r\nconst keys = {\r\n  a: {\r\n    pressed: false,\r\n  },\r\n  d: {\r\n    pressed: false,\r\n  },\r\n  w: {\r\n    pressed: false,\r\n  },\r\n  s: {\r\n    pressed: false,\r\n  },\r\n  ArrowLeft: {\r\n    pressed: false,\r\n  },\r\n  ArrowRight: {\r\n    pressed: false,\r\n  },\r\n  ArrowUp: {\r\n    pressed: false,\r\n  },\r\n  ArrowDown: {\r\n    pressed: false,\r\n  },\r\n  space: {\r\n    pressed: false,\r\n  },\r\n};\r\n\r\nfunction animate() {\r\n  requestAnimationFrame(animate);\r\n\r\n  //black color background\r\n\r\n  c.fillStyle = `black`;\r\n  c.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n  player.update();\r\n  const speed = 10;\r\n  //left\r\n  if (keys.a.pressed && player.position.x >= 0) {\r\n    player.velocity.x = -speed;\r\n    player.rotation = -0.15;\r\n    //right\r\n  } else if (\r\n    keys.d.pressed &&\r\n    player.position.x + player.width <= canvas.width\r\n  ) {\r\n    player.velocity.x = speed;\r\n    player.rotation = 0.15;\r\n    //Left\r\n  } else if (keys.ArrowLeft.pressed && player.position.x >= 0) {\r\n    player.velocity.x = -speed;\r\n    player.rotation = -0.15;\r\n    //Right\r\n  } else if (\r\n    keys.ArrowRight.pressed &&\r\n    player.position.x + player.width <= canvas.width\r\n  ) {\r\n    player.velocity.x = speed;\r\n    player.rotation = 0.15;\r\n    //Stand By\r\n  } else {\r\n    player.velocity.x = 0;\r\n    player.rotation = 0;\r\n  }\r\n}\r\nanimate();\r\n\r\naddEventListener(\"keydown\", ({ key }) => {\r\n  switch (key) {\r\n    case \"a\":\r\n      keys.a.pressed = true;\r\n      break;\r\n    case \"d\":\r\n      keys.d.pressed = true;\r\n\r\n      break;\r\n    case \"w\":\r\n      keys.w.pressed = true;\r\n      break;\r\n    case \"s\":\r\n      keys.s.pressed = true;\r\n      break;\r\n\r\n    case \"ArrowLeft\":\r\n      keys.ArrowLeft.pressed = true;\r\n\r\n      break;\r\n    case \"ArrowRight\":\r\n      keys.ArrowRight.pressed = true;\r\n\r\n      break;\r\n    case \"ArrowUp\":\r\n      keys.ArrowUp.pressed = true;\r\n      break;\r\n    case \"ArrowDown\":\r\n      keys.ArrowDown.pressed = true;\r\n      break;\r\n\r\n    case \" \":\r\n      break;\r\n  }\r\n  console.log(key);\r\n});\r\n\r\naddEventListener(\"keyup\", ({ key }) => {\r\n  switch (key) {\r\n    case \"a\":\r\n      console.log(`left`);\r\n      keys.a.pressed = false;\r\n      break;\r\n    case \"d\":\r\n      console.log(`right`);\r\n      keys.d.pressed = false;\r\n\r\n      break;\r\n    case \"w\":\r\n      console.log(`up`);\r\n      keys.w.pressed = false;\r\n      break;\r\n    case \"s\":\r\n      console.log(`down`);\r\n      keys.s.pressed = false;\r\n      break;\r\n\r\n    case \"ArrowLeft\":\r\n      console.log(`left`);\r\n      keys.ArrowLeft.pressed = false;\r\n      break;\r\n    case \"ArrowRight\":\r\n      console.log(`right`);\r\n      keys.ArrowRight.pressed = false;\r\n\r\n      break;\r\n    case \"ArrowUp\":\r\n      console.log(`up`);\r\n      keys.ArrowUp.pressed = false;\r\n      break;\r\n    case \"ArrowDown\":\r\n      console.log(`down`);\r\n      keys.ArrowDown.pressed = false;\r\n      break;\r\n\r\n    case \" \":\r\n      console.log(`shoot`);\r\n      break;\r\n  }\r\n  console.log(key);\r\n});\r\n"]}